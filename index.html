<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AllJS system Examples</title>
    <link href="http://netdna.bootstrapcdn.com/bootswatch/2.3.1/spacelab/bootstrap.min.css" rel="stylesheet">
    <link href="http://netdna.bootstrapcdn.com/font-awesome/3.1.1/css/font-awesome.min.css" rel="stylesheet">
    <script src="google-code-prettify/src/run_prettify.js"></script>
</head>
<body>
<div class="container-fluid">
    <h1 class="well">AllJS Dispatching</h1>
    <div class="row-fluid">
        <div class="span2">
            <ul class="nav nav-tabs nav-stacked">
                <li class="active"><a href="#">Introduction</a></li>
                <li><a href="#">Profile</a></li>
                <li><a href="#">Messages</a></li>
            </ul>
        </div>
        <div class="span10">

            <p>AllJS system allows to include JavaScript functionality into your project without inline javascript.
                All functionality is concentrated in .js files</p>

            <h3>Step 1. Initializing div, wich contains function name for execution</h3>
            <?prettify lang=html?>
            <pre class="prettyprint" style="padding-left: 10px;">
<!-- index.html -->

<script src="http://code.jquery.com/jquery.js"></script>
<script src="all.js" ></script>
<script src="testmodule.js" ></script>

<div
class="alljs-dispatcher"
data-function="testmodule.testfunc1"
></div>
</pre>

            <h3>Step 2. Writing module</h3>
            <?prettify lang=js?>
            <pre class="prettyprint" style="padding-left: 10px;">
// contents of testmodule.js
'use strict';

var testmodule = testmodule || {};

testmodule.testfunc1 = function() {
    this.system.log('Test message');
};
</pre>

            <h3>Result will be in console</h3>
            <?prettify lang=js?>
            <pre class="prettyprint" style="padding-left: 10px;">
Executing: testmodule.testfunc1
Test message
</pre>




    </div>
</div>

<div class="alljs-dispatcher" data-function="testmodule.testfunc1"></div>

<script src="http://code.jquery.com/jquery.js"></script>
<script src="all.js" ></script>
<script src="testmodule.js" ></script>

<script>//<![CDATA[

var alljs = alljs || [];
alljs.options = alljs.options || {};
alljs.options.DEBUG_MODE = true;

(function () {
    function html(s) {
        return s.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');
    }

    $.each( $('.prettyprint'), function(i, e) {
        var _html = $(e).html();
        $(e).html( html(_html) );
    });
})();
//]]>
</script>
</body>
</html>